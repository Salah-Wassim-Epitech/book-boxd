/* WBS Page Optimized Styles */
.wbs-container{padding:2rem;max-width:1400px;margin:0 auto}
.wbs-root{display:flex;flex-direction:column;align-items:center;padding:2rem 0}
.wbs-level{display:flex;justify-content:flex-start;gap:2rem;margin:2rem 0;padding:1rem 2rem;scroll-behavior:smooth}
.wbs-level::-webkit-scrollbar{height:8px}
.wbs-level::-webkit-scrollbar-track{background:var(--light-bg-secondary);border-radius:10px}
.wbs-level::-webkit-scrollbar-thumb{background:var(--primary-color);border-radius:10px}
.wbs-level::-webkit-scrollbar-thumb:hover{background:var(--secondary-color)}
.wbs-level-0{margin-bottom:3rem}
.wbs-level-1{margin-bottom:3rem;position:relative}
.wbs-level-1::after{content:'⇔ Faites défiler';position:absolute;right:20px;top:50%;transform:translateY(-50%);font-size:0.85rem;color:var(--light-text-secondary);background:var(--light-bg);padding:0.5rem 1rem;border-radius:20px;border:1px solid var(--border-color);opacity:0.7;pointer-events:none}
.wbs-card{background:var(--card-bg);border:2px solid var(--border-color);border-radius:15px;padding:1.5rem;transition:all 0.3s ease;cursor:pointer;position:relative;box-shadow:0 4px 15px rgba(255,176,0,0.1);overflow:visible}
.wbs-card:hover{transform:translateY(-5px);box-shadow:0 10px 30px rgba(255,176,0,0.25);border-color:var(--primary-color)}
.wbs-card.root{background:var(--gradient-1);color:white;font-size:1.5rem;padding:2rem 3rem}
.wbs-card.level-1{width:260px;min-height:140px;transition:all 0.3s ease;position:relative;cursor:pointer}
.wbs-card.level-2{width:220px;min-height:180px;background:var(--card-hover-bg);animation:fadeInScale 0.4s ease-out}
.wbs-card.level-1:hover{border-color:var(--secondary-color)}
.wbs-card.level-1.active{border-color:var(--secondary-color);box-shadow:0 10px 30px rgba(255,140,0,0.3);transform:translateY(-2px)}
.wbs-icon{font-size:2rem;font-weight:400;margin-bottom:0.5rem;display:block}
.wbs-title{font-weight:600;font-size:1.1rem;margin-bottom:0.5rem;color:var(--light-text)}
.wbs-card.root .wbs-title{display:flex;align-items:center;gap:0.5rem;color:white}
.wbs-subtitle{font-size:0.85rem;color:var(--light-text-secondary)}
.wbs-items{margin-top:0.75rem;padding-top:0.75rem;border-top:1px solid var(--border-color);max-height:none;overflow:visible}
.wbs-item{font-size:0.8rem;color:var(--light-text-secondary);margin:0.3rem 0;padding-left:1rem;position:relative}
.wbs-item::before{content:"•";position:absolute;left:0;color:var(--primary-color);font-weight:bold}
.connector{width:3px;height:3rem;background:var(--primary-color);margin:0 auto;position:relative}
.connector::after{content:'';position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:10px solid var(--primary-color)}
.branch-container{display:flex;flex-direction:column;align-items:center;position:relative;flex-shrink:0;min-width:260px;z-index:1}
.branch-container.active{z-index:101}
.sub-level{display:none}
.sub-level.active{display:flex;animation:overlayAppear 0.3s ease-out}
.expanded-area{display:none;width:100%;justify-content:center;gap:1.5rem;flex-wrap:wrap;padding:1rem 1.5rem 1.5rem 1.5rem;margin:0.5rem 0 1.5rem 0}
.expanded-area.active{display:flex;animation:expandDown 0.4s ease-out}
.expand-indicator{position:absolute;bottom:10px;right:10px;font-size:1.2rem;color:var(--primary-color);transition:transform 0.3s ease;pointer-events:none}
.legend{margin-top:3rem;padding:2rem;background:var(--card-bg);border-radius:15px;border:2px solid var(--border-color);text-align:center}
.legend h3{margin-bottom:1rem;color:var(--light-text)}
.legend-items{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}
.legend-item{display:flex;align-items:center;gap:0.5rem}
.legend-box{width:30px;height:30px;border-radius:8px;border:2px solid var(--border-color)}
.legend-box.root{background:var(--gradient-1)}
.legend-box.level1{background:var(--card-bg)}
.legend-box.level2{background:var(--card-hover-bg)}

@keyframes fadeInScale{from{opacity:0;transform:scale(0.95)}to{opacity:1;transform:scale(1)}}
@keyframes overlayAppear{from{opacity:0;transform:translate(-50%,-45%)}to{opacity:1;transform:translate(-50%,-50%)}}
@keyframes expandDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}

@media (max-width:1200px){
.wbs-level{gap:1rem}
.wbs-card.level-1{min-width:240px;max-width:240px}
.wbs-card.level-2{min-width:220px;max-width:220px}
}

@media (max-width:768px){
.wbs-container{padding:1rem}
.wbs-level{flex-direction:column;align-items:center;gap:1rem;padding:1rem}
.wbs-level-1::after{display:none}
.branch-container{width:100%;min-width:auto}
.wbs-card.level-1{width:100%;min-width:auto;max-width:100%;min-height:auto;padding:1.8rem;font-size:1.05rem}
.wbs-card.level-2{width:90%;min-width:auto;max-width:90%;min-height:auto;margin-bottom:1rem;margin-left:auto;margin-right:auto;padding:1.3rem;font-size:0.95rem}
.expanded-area{flex-direction:column;align-items:center;gap:1rem;padding:1rem}
.wbs-card.root{padding:1.5rem;font-size:1.2rem;text-align:center}
.connector{height:2rem}
.legend{margin-top:2rem;padding:1.5rem}
.legend-items{flex-direction:column;gap:1rem}
}

@media (max-width:480px){
.wbs-container{padding:0.75rem}
.wbs-card.level-1{padding:1.5rem;font-size:1rem}
.wbs-card.level-2{padding:1rem;font-size:0.9rem;width:85%}
.wbs-card.root{padding:1.25rem;font-size:1.1rem}
.wbs-title{font-size:1rem}
.wbs-subtitle{font-size:0.8rem}
.wbs-item{font-size:0.75rem}
.wbs-icon{font-size:1.5rem}
.expanded-area{padding:0.75rem}
.legend{margin-top:1.5rem;padding:1rem}
}